<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindLedger - Contabilità Intelligente per Associazioni</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/compromise@14.11.3/builds/compromise.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #5E60CE;
            --secondary: #6930C3;
            --accent: #64DFDF;
            --dark: #25283D;
            --light: #F8F9FA;
            --success: #80FFDB;
            --warning: #FF9E64;
            --error: #FF6B6B;
        }

        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: var(--light);
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: rgba(248, 249, 250, 0.95);
            box-shadow: 0 2px 20px rgba(0,0,0,0.08);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.2rem 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            display: flex;
            align-items: center;
        }

        .logo-icon {
            margin-right: 10px;
            color: var(--accent);
            font-size: 2rem;
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            transition: color 0.3s;
            position: relative;
        }

        .nav-links a:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 0;
            background-color: var(--primary);
            transition: width 0.3s;
        }

        .nav-links a:hover:after {
            width: 100%;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .cta-button {
            background: var(--primary);
            color: white;
            padding: 10px 25px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(94, 96, 206, 0.3);
        }

        .cta-button:hover {
            background: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(94, 96, 206, 0.4);
        }

        .hero {
            position: relative;
            height: 100vh;
            color: white;
            display: flex;
            align-items: center;
            overflow: hidden;
            margin-top: 80px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            opacity: 0.7;
            background: 
                radial-gradient(circle at 20% 80%, rgba(100, 223, 223, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(128, 255, 219, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(94, 96, 206, 0.2) 0%, transparent 50%);
            animation: float 20s infinite linear;
        }

        .hero-content {
            z-index: 2;
            max-width: 650px;
            padding: 0 20px;
            position: relative;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2.5rem;
            opacity: 0.95;
        }

        .btn {
            display: inline-block;
            background: var(--accent);
            color: var(--dark);
            padding: 15px 35px;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            transition: all 0.3s ease;
            border: 2px solid var(--accent);
            font-size: 1.1rem;
            margin-right: 15px;
            margin-bottom: 10px;
            box-shadow: 0 5px 15px rgba(100, 223, 223, 0.4);
        }

        .btn:hover {
            background: transparent;
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(100, 223, 223, 0.6);
        }

        .btn-secondary {
            background: transparent;
            border: 2px solid white;
            color: white;
        }

        .btn-secondary:hover {
            background: white;
            color: var(--primary);
        }

        .ai-agent {
            padding: 120px 0;
            background: white;
            position: relative;
        }

        .section-title {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title h2 {
            font-size: 2.8rem;
            color: var(--dark);
            margin-bottom: 1rem;
        }

        .section-title p {
            font-size: 1.2rem;
            color: #666;
            max-width: 700px;
            margin: 0 auto;
        }

        .ai-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5rem;
            align-items: center;
        }

        .ai-visual {
            width: 100%;
            height: 500px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            position: relative;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ai-visual-content {
            text-align: center;
            color: white;
            padding: 2rem;
        }

        .ai-visual-content i {
            font-size: 8rem;
            margin-bottom: 2rem;
            opacity: 0.8;
        }

        .ai-visual-content h3 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }

        .ai-features {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        .feature {
            display: flex;
            align-items: flex-start;
            padding: 1.5rem;
            background: var(--light);
            border-radius: 15px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .feature:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .feature-icon {
            background: var(--primary);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-right: 1.5rem;
            flex-shrink: 0;
        }

        .feature-content h3 {
            color: var(--dark);
            margin-bottom: 0.5rem;
        }

        .vantaggi {
            padding: 100px 0;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }

        .vantaggi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
        }

        .vantaggio-card {
            background: white;
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .vantaggio-card:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--primary);
        }

        .vantaggio-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .vantaggio-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
        }

        .vantaggio-card h3 {
            color: var(--dark);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .funziona {
            padding: 120px 0;
            background: white;
        }

        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            counter-reset: step-counter;
        }

        .step {
            text-align: center;
            padding: 2rem;
            position: relative;
        }

        .step:before {
            counter-increment: step-counter;
            content: counter(step-counter);
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(94, 96, 206, 0.4);
        }

        .step-icon {
            font-size: 3rem;
            color: var(--accent);
            margin-bottom: 1.5rem;
        }

        .step h3 {
            color: var(--dark);
            margin-bottom: 1rem;
        }

        .cta-section {
            padding: 120px 0;
            background: white;
            text-align: center;
        }

        .cta-box {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 5rem;
            border-radius: 30px;
            box-shadow: 0 20px 40px rgba(94, 96, 206, 0.3);
            position: relative;
            overflow: hidden;
        }

        .cta-box:before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 8s infinite linear;
        }

        @keyframes pulse {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .cta-box h2 {
            font-size: 2.8rem;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 2;
        }

        .cta-box p {
            font-size: 1.3rem;
            margin-bottom: 2.5rem;
            position: relative;
            z-index: 2;
            opacity: 0.9;
        }

        footer {
            background: var(--dark);
            color: white;
            padding: 4rem 0 2rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-column h3 {
            margin-bottom: 1.5rem;
            color: var(--accent);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.8rem;
        }

        .footer-links a {
            color: #adb5bd;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: white;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid #495057;
            color: #adb5bd;
        }

        /* CHATBOT STYLES FUNZIONANTI */
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .chatbot-button {
            width: 60px;
            height: 60px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(94, 96, 206, 0.4);
            transition: all 0.3s ease;
            border: none;
        }

        .chatbot-button:hover {
            background: var(--secondary);
            transform: scale(1.1);
        }

        .chatbot-window {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 400px;
            height: 600px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .chatbot-header {
            background: var(--primary);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-header h3 {
            margin: 0;
            font-size: 1.2rem;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }

        .chatbot-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 85%;
            padding: 12px 15px;
            border-radius: 18px;
            line-height: 1.4;
            position: relative;
        }

        .user-message {
            align-self: flex-end;
            background: var(--primary);
            color: white;
            border-bottom-right-radius: 5px;
        }

        .bot-message {
            align-self: flex-start;
            background: var(--light);
            color: var(--dark);
            border-bottom-left-radius: 5px;
        }

        .message-feedback {
            display: flex;
            justify-content: flex-start;
            gap: 10px;
            margin-top: 5px;
            font-size: 0.8rem;
        }

        .feedback-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: #666;
            transition: color 0.3s;
        }

        .feedback-btn:hover {
            color: var(--primary);
        }

        .feedback-btn.liked {
            color: var(--success);
        }

        .feedback-btn.disliked {
            color: var(--error);
        }

        .chatbot-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid #eee;
        }

        .chatbot-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            outline: none;
            font-family: 'Inter', sans-serif;
        }

        .chatbot-input button {
            background: var(--primary);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-left: 10px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .chatbot-input button:hover {
            background: var(--secondary);
        }

        .typing-indicator {
            display: inline-block;
            padding: 12px 15px;
            background: var(--light);
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            align-self: flex-start;
        }

        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #999;
            margin: 0 2px;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-indicator span:nth-child(1) { animation-delay: 0s; }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }

        .message-info {
            font-size: 0.7rem;
            color: #999;
            margin-top: 5px;
            text-align: right;
        }

        .api-indicator {
            font-size: 0.7rem;
            color: var(--accent);
            font-weight: 600;
        }

        .chatbot-settings {
            padding: 10px 15px;
            border-bottom: 1px solid #eee;
            background: #f8f9fa;
        }

        .settings-toggle {
            background: none;
            border: none;
            color: var(--primary);
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .settings-panel {
            padding: 15px;
            background: #f8f9fa;
            border-bottom: 1px solid #eee;
            display: none;
        }

        .setting-item {
            margin-bottom: 10px;
        }

        .setting-item label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.9rem;
            color: var(--dark);
        }

        .setting-item input, .setting-item select {
            width: 100%;
            padding: 8px 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Inter', sans-serif;
        }

        .api-key-input {
            font-family: monospace !important;
        }

        @media (max-width: 992px) {
            .ai-container {
                grid-template-columns: 1fr;
                gap: 3rem;
            }
            
            .ai-visual {
                height: 400px;
            }
            
            .hero h1 {
                font-size: 2.8rem;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2.2rem;
            }
            
            .cta-box {
                padding: 3rem 2rem;
            }
            
            .cta-box h2 {
                font-size: 2.2rem;
            }

            .chatbot-window {
                width: 350px;
                height: 500px;
            }
        }

        @media (max-width: 480px) {
            .chatbot-window {
                width: 300px;
                height: 450px;
            }
        }

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
            100% { transform: translateY(0px) rotate(360deg); }
        }

        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        .tagline {
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--accent);
            margin-bottom: 0.5rem;
            display: block;
        }

        .btn-large {
            padding: 18px 40px;
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header>
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <i class="fas fa-brain logo-icon"></i>
                    MindLedger
                </div>
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#agente">Assistente AI</a></li>
                    <li><a href="#vantaggi">Vantaggi</a></li>
                    <li><a href="#funziona">Come Funziona</a></li>
                </ul>
                <a href="fatturazione.html" class="cta-button">Prova Gratis</a>
            </nav>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section class="hero" id="home">
        <div class="hero-background"></div>
        <div class="container">
            <div class="hero-content">
                <span class="tagline">Intelligenza Artificiale per la Contabilità delle Associazioni</span>
                <h1>La Mente che Assiste il Tuo Registro Contabile</h1>
                <p>MindLedger unisce intelligenza artificiale avanzata e competenza finanziaria per assistere la contabilità della tua associazione con precisione assoluta.</p>
                <div>
                    <a href="fatturazione.html" class="btn btn-large">Prova MindLedger</a>
                    <a href="#agente" class="btn btn-secondary btn-large">Scopri l'AI</a>
                </div>
            </div>
        </div>
    </section>

    <!-- SEZIONE AI AGENT -->
    <section class="ai-agent" id="agente">
        <div class="container">
            <div class="section-title">
                <h2>L'Assistente Contabile Intelligente</h2>
                <p>Scopri come MindLedger assiste la gestione finanziaria della tua associazione</p>
            </div>
            <div class="ai-container">
                <div class="ai-visual">
                    <div class="ai-visual-content">
                        <i class="fas fa-robot"></i>
                        <h3>AI Assistiva Avanzata</h3>
                        <p>Chiedi aiuto al nostro assistente AI quando ne hai bisogno</p>
                    </div>
                </div>
                <div class="ai-features">
                    <div class="feature">
                        <div class="feature-icon">
                            <i class="fas fa-comments"></i>
                        </div>
                        <div class="feature-content">
                            <h3>Chatbot Intelligente</h3>
                            <p>Interagisci con il nostro assistente AI per ricevere aiuto immediato su questioni contabili e fiscali.</p>
                        </div>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <div class="feature-content">
                            <h3>Fatturazione Assistita</h3>
                            <p>Genera fatture elettroniche con l'assistenza AI che verifica la conformità alla normativa.</p>
                        </div>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="feature-content">
                            <h3>Verifica Conformità</h3>
                            <p>L'AI verifica che le tue operazioni rispettino le normative contabili e fiscali aggiornate.</p>
                        </div>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <div class="feature-content">
                            <h3>Suggerimenti Proattivi</h3>
                            <p>Ricevi consigli utili per ottimizzare la gestione finanziaria della tua associazione.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SEZIONE VANTAGGI -->
    <section class="vantaggi" id="vantaggi">
        <div class="container">
            <div class="section-title">
                <h2>Vantaggi MindLedger</h2>
                <p>Scopri tutti i benefici dell'assistenza AI per la contabilità della tua associazione</p>
            </div>
            <div class="vantaggi-grid">
                <div class="vantaggio-card">
                    <div class="vantaggio-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3>Assistenza Immediata</h3>
                    <p>Chatta con l'AI per risolvere dubbi contabili in tempo reale, quando ne hai bisogno.</p>
                </div>
                <div class="vantaggio-card">
                    <div class="vantaggio-icon">
                        <i class="fas fa-file-invoice"></i>
                    </div>
                    <h3>Fatturazione Assistita</h3>
                    <p>Genera fatture elettroniche con validazione automatica degli errori.</p>
                </div>
                <div class="vantaggio-card">
                    <div class="vantaggio-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Precisione Garantita</h3>
                    <p>Riduci gli errori umani con calcoli precisi e conformità normativa verificata.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SEZIONE COME FUNZIONA -->
    <section class="funziona" id="funziona">
        <div class="container">
            <div class="section-title">
                <h2>Come Funziona MindLedger</h2>
                <p>Inizia subito senza registrazione</p>
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <h3>Inizia Subito</h3>
                    <p>Accedi immediatamente alla piattaforma senza registrazione.</p>
                </div>
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-comment"></i>
                    </div>
                    <h3>Chiedi all'AI</h3>
                    <p>Usa il chatbot per ricevere assistenza immediata su dubbi contabili e fiscali.</p>
                </div>
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-file-invoice-dollar"></i>
                    </div>
                    <h3>Crea Fatture</h3>
                    <p>Genera fatture elettroniche in pochi click con l'assistenza AI integrata.</p>
                </div>
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h3>Verifica Con l'AI</h3>
                    <p>L'assistente AI verifica la correttezza delle tue operazioni contabili.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SEZIONE CTA -->
    <section class="cta-section" id="cta">
        <div class="container">
            <div class="cta-box">
                <h2>Pronto a Ricevere Assistenza AI per la Tua Contabilità?</h2>
                <p>Inizia oggi la tua prova gratuita e scopri come l'assistente AI di MindLedger può aiutarti nella gestione finanziaria della tua associazione</p>
                <a href="fatturazione.html" class="btn btn-large">Inizia la Tua Prova Gratuita</a>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>MindLedger</h3>
                    <p>L'assistente intelligente che aiuta con contabilità e fatturazione per associazioni.</p>
                </div>
                <div class="footer-column">
                    <h3>Link Utili</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#agente">Assistente AI</a></li>
                        <li><a href="#vantaggi">Vantaggi</a></li>
                        <li><a href="#funziona">Come Funziona</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contatti</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-envelope"></i> info@mindledger.it</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 MindLedger. Tutti i diritti riservati.</p>
            </div>
        </div>
    </footer>

    <!-- CHATBOT FUNZIONANTE -->
    <div class="chatbot-container">
        <button class="chatbot-button" id="chatbotButton">
            <i class="fas fa-robot"></i>
        </button>
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <h3>Assistente AI MindLedger</h3>
                <button class="chatbot-close" id="chatbotClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chatbot-settings">
                <button class="settings-toggle" id="settingsToggle">
                    <i class="fas fa-cog"></i> Impostazioni
                </button>
            </div>
            <div class="settings-panel" id="settingsPanel">
                <div class="setting-item">
                    <label for="api-provider">Provider AI:</label>
                    <select id="api-provider">
                        <option value="local">Sistema Locale</option>
                        <option value="openai">OpenAI GPT</option>
                    </select>
                </div>
                <div class="setting-item" id="api-key-container">
                    <label for="api-key">API Key OpenAI:</label>
                    <input type="password" id="api-key" class="api-key-input" placeholder="Inserisci la tua API key">
                    <small>La tua API key viene salvata localmente e non viene inviata ai nostri server.</small>
                </div>
                <div class="setting-item">
                    <label for="ai-model">Modello AI:</label>
                    <select id="ai-model">
                        <option value="gpt-3.5-turbo">GPT-3.5 Turbo (veloce)</option>
                        <option value="gpt-4">GPT-4 (più preciso)</option>
                    </select>
                </div>
            </div>
            <div class="chatbot-messages" id="chatMessages">
                <div class="message bot-message">
                    Ciao! Sono l'assistente AI di MindLedger. Come posso aiutarti con la contabilità della tua associazione?
                    <div class="message-info">Sistema Locale • Just now</div>
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" placeholder="Scrivi il tuo messaggio..." id="chatInput">
                <button id="sendButton">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // ===============================
        // CHATBOT FUNZIONANTE - VERSIONE SEMPLIFICATA
        // ===============================

        document.addEventListener('DOMContentLoaded', function() {
            console.log('MindLedger Chatbot - Inizializzazione');
            
            // Elementi principali con ID espliciti
            const chatbotButton = document.getElementById('chatbotButton');
            const chatbotWindow = document.getElementById('chatbotWindow');
            const chatbotClose = document.getElementById('chatbotClose');
            const chatInput = document.getElementById('chatInput');
            const sendButton = document.getElementById('sendButton');
            const chatMessages = document.getElementById('chatMessages');
            const settingsToggle = document.getElementById('settingsToggle');
            const settingsPanel = document.getElementById('settingsPanel');
            const apiProvider = document.getElementById('api-provider');
            const apiKeyContainer = document.getElementById('api-key-container');

            // DEBUG: Verifica che tutti gli elementi esistano
            console.log('Chatbot Button:', chatbotButton);
            console.log('Chatbot Window:', chatbotWindow);
            console.log('Chatbot Close:', chatbotClose);
            console.log('Chat Input:', chatInput);
            console.log('Send Button:', sendButton);

            // ===============================
            // FUNZIONALITÀ BASE CHATBOT
            // ===============================

            // Apri/chiudi chatbot - FUNZIONANTE
            if (chatbotButton && chatbotWindow) {
                chatbotButton.addEventListener('click', function() {
                    console.log('Apertura chatbot');
                    chatbotWindow.style.display = 'flex';
                    // Focus sull'input
                    setTimeout(() => {
                        if (chatInput) chatInput.focus();
                    }, 100);
                });
            }

            if (chatbotClose && chatbotWindow) {
                chatbotClose.addEventListener('click', function() {
                    console.log('Chiusura chatbot');
                    chatbotWindow.style.display = 'none';
                });
            }

            // Toggle impostazioni
            if (settingsToggle && settingsPanel) {
                settingsToggle.addEventListener('click', function() {
                    settingsPanel.style.display = settingsPanel.style.display === 'none' ? 'block' : 'none';
                });
            }

            // Gestione cambio provider API
            if (apiProvider) {
                apiProvider.addEventListener('change', function() {
                    if (apiKeyContainer) {
                        apiKeyContainer.style.display = this.value === 'openai' ? 'block' : 'none';
                    }
                });
            }

            // ===============================
            // SISTEMA DI RISPOSTE INTELLIGENTE
            // ===============================

            const accountingKnowledge = {
                fiscal: {
                    keywords: ['iva', 'irpef', 'imposta', 'tassa', 'fiscale', 'deduzione'],
                    responses: [
                        "Per le questioni IVA, le associazioni senza scopo di lucro spesso applicano l'esenzione per le attività istituzionali. Hai attività commerciali?",
                        "L'IVA per le associazioni dipende dall'attività esercitata. Le attività istituzionali sono generalmente esenti. Di che tipo di operazione si tratta?"
                    ]
                },
                invoicing: {
                    keywords: ['fattura', 'ricevuta', 'nota credito', 'emissione', 'fatturazione'],
                    responses: [
                        "Per emettere una fattura elettronica per un'associazione, devi includere codice destinatario, partita IVA e dati completi. Vuoi che ti guidi passo passo?",
                        "La fatturazione per associazioni richiede dati fornitore, cliente, descrizione, importo e IVA. Stai emettendo una fattura per un servizio o un bene?"
                    ]
                },
                compliance: {
                    keywords: ['conforme', 'normativa', 'legge', 'obbligo', 'adempimento'],
                    responses: [
                        "Le associazioni devono rispettare gli obblighi contabili del codice civile e le normative fiscali. Su quale aspetto hai dubbi?",
                        "Per la trasparenza finanziaria, le associazioni devono approvare il rendiconto annuale. Stai preparando il bilancio?"
                    ]
                }
            };

            function getAIResponse(message) {
                const lowerMessage = message.toLowerCase();
                
                // Cerca l'intento più pertinente
                let bestMatch = { intent: null, score: 0 };
                
                for (const [intentName, intentData] of Object.entries(accountingKnowledge)) {
                    let score = 0;
                    for (const keyword of intentData.keywords) {
                        if (lowerMessage.includes(keyword)) {
                            score += 2;
                        }
                    }
                    
                    if (score > bestMatch.score) {
                        bestMatch = { intent: intentName, score };
                    }
                }
                
                // Se abbiamo un intent specifico, usa le risposte corrispondenti
                if (bestMatch.intent && accountingKnowledge[bestMatch.intent]) {
                    const responses = accountingKnowledge[bestMatch.intent].responses;
                    return responses[Math.floor(Math.random() * responses.length)];
                }
                
                // Risposta generica
                const genericResponses = [
                    "Interessante! Come assistente contabile specializzato in associazioni, posso aiutarti con fatturazione, aspetti fiscali o bilanci. Su cosa vuoi approfondire?",
                    "Grazie per la tua domanda! Potresti specificare se si tratta di fatturazione, questioni IVA o tenuta della contabilità?",
                    "Come assistente AI di MindLedger, posso aiutarti con: emissione fatture, adempimenti fiscali o gestione bilanci. Su cosa hai bisogno di aiuto?"
                ];
                
                return genericResponses[Math.floor(Math.random() * genericResponses.length)];
            }

            // ===============================
            // GESTIONE INVIO MESSAGGI
            // ===============================

            function sendMessage() {
                const message = chatInput.value.trim();
                if (message === '') return;

                // Aggiungi messaggio utente
                addMessage(message, 'user');
                chatInput.value = '';

                // Mostra indicatore di typing
                showTypingIndicator();

                // Simula elaborazione AI
                setTimeout(() => {
                    removeTypingIndicator();
                    const response = getAIResponse(message);
                    addMessage(response, 'bot');
                }, 1000 + Math.random() * 1000);
            }

            function addMessage(text, sender) {
                const messageElement = document.createElement('div');
                messageElement.classList.add('message', `${sender}-message`);
                
                const provider = apiProvider ? apiProvider.value : 'local';
                const providerText = provider === 'openai' ? 'OpenAI' : 'Sistema Locale';
                
                messageElement.innerHTML = `
                    ${text}
                    <div class="message-info">${providerText} • ${new Date().toLocaleTimeString()}</div>
                `;
                
                if (chatMessages) {
                    chatMessages.appendChild(messageElement);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }
            }

            function showTypingIndicator() {
                const typingElement = document.createElement('div');
                typingElement.classList.add('typing-indicator');
                typingElement.innerHTML = '<span></span><span></span><span></span>';
                typingElement.id = 'typing-indicator';
                
                if (chatMessages) {
                    chatMessages.appendChild(typingElement);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }
            }

            function removeTypingIndicator() {
                const typingElement = document.getElementById('typing-indicator');
                if (typingElement) {
                    typingElement.remove();
                }
            }

            // Event listeners per invio messaggi
            if (sendButton) {
                sendButton.addEventListener('click', sendMessage);
            }

            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }

            // ===============================
            // FUNZIONALITÀ AGGIUNTIVE
            // ===============================

            // Smooth scroll per i link interni
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Effetto header on scroll
            window.addEventListener('scroll', function() {
                const header = document.querySelector('header');
                if (header) {
                    if (window.scrollY > 100) {
                        header.style.background = 'rgba(248,249,250,0.98)';
                        header.style.boxShadow = '0 5px 20px rgba(0,0,0,0.1)';
                    } else {
                        header.style.background = 'rgba(248,249,250,0.95)';
                        header.style.boxShadow = '0 2px 20px rgba(0,0,0,0.08)';
                    }
                }
            });

            // Animazione typing per il tagline
            const tagline = document.querySelector('.tagline');
            if (tagline) {
                const text = tagline.textContent;
                tagline.textContent = '';
                let i = 0;
                function typeWriter() {
                    if (i < text.length) {
                        tagline.textContent += text.charAt(i);
                        i++;
                        setTimeout(typeWriter, 50);
                    }
                }
                setTimeout(typeWriter, 1000);
            }

            console.log('MindLedger - Inizializzazione completata con successo!');
        });
    </script>
</body>
</html>